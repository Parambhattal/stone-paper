<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Rima Hazra e5c160fe - Rock Paper Scissors</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    body { margin: 0; background: #0f172a; color: #e5e7eb; display: flex; min-height: 100vh; }
    main { margin: auto; width: min(90%, 720px); background: #111827; border-radius: 16px; border: 1px solid #1f2937; padding: 28px 32px; box-shadow: 0 6px 24px rgba(0,0,0,.25); }
    h1, h2 { margin-top: 0; }
    a, button { cursor: pointer; }
    a { color: #38bdf8; text-decoration: none; }
    button { padding: 10px 14px; border-radius: 10px; border: none; background: #22c55e; color: #0b1222; font-weight: 700; }
    input, select { padding: 8px 12px; border-radius: 8px; border: 1px solid #334155; background: #0b1222; color: #e5e7eb; }
    .hidden { display: none !important; }
    .muted { color: #9ca3af; }
    pre { background: #0b1222; color: #93c5fd; padding: 14px; border-radius: 8px; overflow-x: auto; }
    footer { margin-top: 24px; text-align: center; font-size: 0.9rem; color: #94a3b8; }
  </style>
</head>
<body>
  <main>
    <!-- INDEX VIEW -->
    <section id="indexView">
      <h1>Welcome to Rock Paper Scissors</h1>
      <p><a id="loginLink" href="#">Please Log In</a></p>
      <p>
        Attempt to go to <a id="tryGame" href="#">game.php</a> without logging in - it should fail with an error message.
      </p>
    </section>

    <!-- LOGIN VIEW -->
    <section id="loginView" class="hidden">
      <h1>Please Log In</h1>
      <p id="errorMsg" style="color:red;"></p>
      <form id="loginForm">
        <label for="who">User Name</label><br>
        <input type="text" id="who" name="who" required><br><br>
        <label for="pass">Password</label><br>
        <input type="password" id="pass" name="pass" required><br><br>
        <button type="submit">Log In</button>
        <button type="button" id="cancelLogin" style="background:#1f2937; color:#e5e7eb;">Cancel</button>
      </form>
      <p class="muted">Hint: The password is the programming language used in this course followed by 123.</p>
    </section>

    <!-- GAME VIEW -->
    <section id="gameView" class="hidden">
      <h1>Rock Paper Scissors</h1>
      <p id="welcomeMsg"></p>
      <form id="gameForm">
        <select id="humanChoice">
          <option value="-1">Select</option>
          <option value="0">Rock</option>
          <option value="1">Paper</option>
          <option value="2">Scissors</option>
        </select>
        <button type="submit">Play</button>
        <button type="button" id="logoutBtn" style="background:#1f2937; color:#e5e7eb;">Logout</button>
      </form>
      <pre id="resultBox">Please select a strategy and press Play.</pre>
    </section>

    <!-- LOGOUT / ERROR -->
    <section id="logoutView" class="hidden">
      <h1>Logged Out</h1>
      <p>You have successfully logged out.</p>
      <p><a id="returnHome" href="#">Return to Home</a></p>
    </section>

    <!-- ACCESS DENIED -->
    <section id="accessDeniedView" class="hidden">
      <h1 style="color:#f87171;">Error</h1>
      <p>Name parameter missing</p>
      <p><a id="backToIndex" href="#">Return to Home</a></p>
    </section>

    <footer>
      Simulated single-file HTML version of Rock Paper Scissors â€” built for Coursera practice (no PHP required).
    </footer>
  </main>

  <script>
    // Elements
    const indexView = document.getElementById('indexView');
    const loginView = document.getElementById('loginView');
    const gameView = document.getElementById('gameView');
    const logoutView = document.getElementById('logoutView');
    const accessDeniedView = document.getElementById('accessDeniedView');

    const loginLink = document.getElementById('loginLink');
    const tryGame = document.getElementById('tryGame');
    const cancelLogin = document.getElementById('cancelLogin');
    const loginForm = document.getElementById('loginForm');
    const errorMsg = document.getElementById('errorMsg');
    const gameForm = document.getElementById('gameForm');
    const resultBox = document.getElementById('resultBox');
    const humanChoice = document.getElementById('humanChoice');
    const logoutBtn = document.getElementById('logoutBtn');
    const welcomeMsg = document.getElementById('welcomeMsg');
    const returnHome = document.getElementById('returnHome');
    const backToIndex = document.getElementById('backToIndex');

    // State
    let loggedUser = null;
    const correctPassword = "php123";

    // Navigation helpers
    function show(view) {
      [indexView, loginView, gameView, logoutView, accessDeniedView].forEach(v => v.classList.add('hidden'));
      view.classList.remove('hidden');
    }

    // Login link clicked
    loginLink.onclick = () => show(loginView);
    cancelLogin.onclick = () => show(indexView);
    tryGame.onclick = () => {
      if (!loggedUser) {
        show(accessDeniedView);
      } else {
        show(gameView);
      }
    };
    returnHome.onclick = () => show(indexView);
    backToIndex.onclick = () => show(indexView);

    // Handle login form
    loginForm.onsubmit = (e) => {
      e.preventDefault();
      const user = document.getElementById('who').value.trim();
      const pass = document.getElementById('pass').value.trim();
      if (!user || !pass) {
        errorMsg.textContent = "User name and password are required";
        return;
      }
      if (pass !== correctPassword) {
        errorMsg.textContent = "Incorrect password";
        return;
      }
      errorMsg.textContent = "";
      loggedUser = user;
      welcomeMsg.textContent = "Welcome: " + user;
      show(gameView);
    };

    // Game logic
    const names = ["Rock", "Paper", "Scissors"];
    function checkResult(human, computer) {
      if (human === computer) return "Tie";
      if ((human === 0 && computer === 2) ||
          (human === 1 && computer === 0) ||
          (human === 2 && computer === 1)) return "You Win";
      return "You Lose";
    }

    gameForm.onsubmit = (e) => {
      e.preventDefault();
      const human = parseInt(humanChoice.value);
      if (isNaN(human) || human < 0) {
        resultBox.textContent = "Please select a strategy and press Play.";
        return;
      }
      const computer = Math.floor(Math.random() * 3);
      const outcome = checkResult(human, computer);
      resultBox.textContent =
        "Your Play=" + names[human] + " Computer Play=" + names[computer] + " Result=" + outcome;
    };

    logoutBtn.onclick = () => {
      loggedUser = null;
      show(logoutView);
    };
  </script>
</body>
</html>
